<%- include('./partials/header')%>

  <div class="max-w-5xl mx-auto mt-24 p-5 bg-white shadow rounded-lg">
    <div class="flex flex-col md:flex-row gap-5">
      
      <!-- Delivery Address Form -->
      <div class="w-full md:w-2/3">
        <h2 class="text-lg font-semibold text-blue-600 mb-5">DELIVERY ADDRESS</h2>
        
        <form class="space-y-4" action="/user/address/<%=product._id%>" method="post">
          <button
            type="button"
            class="w-full py-2 text-sm font-medium text-white bg-blue-600 rounded shadow hover:bg-blue-700"
          >
            Use my current location
          </button>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input
              type="text"
              name="name"
              placeholder="Name"
              class="p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"
              required
            />
            <input
              type="text"
              name="phone"
              placeholder="10-digit mobile number"
              class="p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"
              required
            />
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input
              type="text"
              name="pincode"
              placeholder="Pincode"
              class="p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"
              required
            />
            <input
              type="text"
              name="locality"
              placeholder="Locality"
              class="p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"
              required
            />
          </div>
          
          <textarea
            name="address"
            placeholder="Address (Area and Street)"
            class="p-2 border border-gray-300 rounded w-full focus:ring-blue-500 focus:border-blue-500"
            rows="2"
            required
          ></textarea>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input
              type="text"
              name="city"
              placeholder="City/District/Town"
              class="p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"
              required
            />
            <select
              name="state"
              class="p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"
              required
            >
              <option value="" disabled selected>--Select State--</option>
              <option value="state1">State 1</option>
              <option value="state2">State 2</option>
            </select>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input
              type="text"
              name="landmark"
              placeholder="Landmark (Optional)"
              class="p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"
            />
            <input
              type="text"
              name="alternatePhone"
              placeholder="Alternate Phone (Optional)"
              class="p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"
            />
          </div>
          
          <div class="flex gap-4">
            <label class="flex items-center">
              <input type="radio" name="addressType" value="Home (All day delivery)" class="mr-2 text-sm" />
              Home (All day delivery)
            </label>
            <label class="flex items-center">
              <input type="radio" name="addressType" value="Work (Delivery between 10 AM - 5 PM)" class="mr-2 text-sm" />
              Work (Delivery between 10 AM - 5 PM)
            </label>
          </div>

          <button type="submit" class="bg-[#fb641b] p-3 rounded text-white text-sm font-semibold">SAVE AND DELEVIR HERE</button>
        </form>
      </div>

      <% let grandTotalMRP = 0; let grandTotalDiscount = 0; %>
      <% let totalMRP = product.price * quantity; %>
      
      <!-- Price Details -->
      <div class="w-full md:w-1/3 bg-gray-50 p-5 border border-gray-200 rounded">
        <h3 class="text-lg font-semibold mb-4">PRICE DETAILS</h3>
        
        <div class="space-y-2">
          <div class="flex justify-between">
            <span>Price (<%=quantity%> item)</span>
            <span>₹<%= totalMRP%></span>
          </div>
          <div class="flex justify-between">
            <span>Delivery Charges</span>
            <span class="text-green-600">FREE</span>
          </div>
          <div class="flex justify-between">
            <span>Platform Fee</span>
            <span>₹20</span>
          </div>
          <hr class="my-2 border-gray-300" />
          <div class="flex justify-between font-semibold">
            <span>Total Payable</span>
            <span>₹<%= totalMRP + 20%></span>
          </div>
        </div>
        
        <p class="mt-4 text-green-600 text-sm">
          Your Total Savings on this order ₹1,017
        </p>
        
        <div class="mt-4 flex items-center space-x-2 text-gray-600 text-sm">
          <span class="material-icons text-gray-500">security</span>
          <span>Safe and Secure Payments. Easy returns. 100% Authentic products.</span>
        </div>
      </div>
      
    </div>
  </div>


